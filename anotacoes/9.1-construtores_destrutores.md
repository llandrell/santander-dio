# üèóÔ∏è M√©todos Construtores e Destrutores em Python (`__init__` e `__del__`)

Neste README vamos entender o que s√£o os m√©todos construtores e destrutores em Python, para que servem, quando usar e boas pr√°ticas de utiliza√ß√£o.  

---

## üîπ O que √© um m√©todo construtor (`__init__`)?

O **construtor** √© um m√©todo especial utilizado para inicializar um objeto no momento em que ele √© criado.  
- Em Python, esse m√©todo se chama **`__init__`**.  
- Ele √© executado automaticamente quando uma **inst√¢ncia (objeto)** de uma classe √© criada.  
- √â usado para **definir valores iniciais** (atributos) de um objeto.  

### Estrutura b√°sica:
```python
class Pessoa:
    def __init__(self, nome, idade):
        # Atributos do objeto
        self.nome = nome
        self.idade = idade

# Criando um objeto (inst√¢ncia)
p1 = Pessoa("Andr√©", 30)
print(p1.nome)  # Andr√©
print(p1.idade) # 30
```

**Explica√ß√£o:**  
- O m√©todo `__init__` recebe como primeiro par√¢metro obrigat√≥rio o `self` (refer√™ncia √† pr√≥pria inst√¢ncia do objeto).  
- Podemos passar par√¢metros adicionais (ex: `nome` e `idade`) que ser√£o usados para inicializar os atributos.  
- Sempre que criamos um objeto, o `__init__` √© chamado automaticamente.  

---

## üîπ O que √© um m√©todo destrutor (`__del__`)?

O **destrutor** √© chamado quando um objeto est√° prestes a ser removido da mem√≥ria.  
- Em Python, o m√©todo destrutor se chama **`__del__`**.  
- Ele n√£o √© usado com frequ√™ncia, porque o **coletor de lixo do Python (Garbage Collector)** gerencia automaticamente a mem√≥ria.  
- Serve para **finalizar** um objeto e executar alguma a√ß√£o antes que ele seja destru√≠do (ex: fechar arquivos, liberar recursos externos, salvar logs).  

### Estrutura b√°sica:
```python
class Conexao:
    def __init__(self):
        print("üîå Conex√£o estabelecida.")

    def __del__(self):
        print("‚ùå Conex√£o encerrada.")

# Criando e destruindo um objeto
c = Conexao()
del c   # Chamando o destrutor manualmente
```

**Explica√ß√£o:**  
- O m√©todo `__del__` √© chamado **automaticamente** quando o objeto √© removido da mem√≥ria (quando n√£o existem mais refer√™ncias a ele).  
- Podemos chamar `del objeto` para for√ßar a exclus√£o, mas n√£o √© recomendado.  

---

## üîπ Boas pr√°ticas sobre `__del__`  

- **Evite depender do `__del__` para liberar recursos**, pois o coletor de lixo do Python j√° faz isso automaticamente.  
- Caso precise liberar recursos, prefira usar:
  - **Context Managers** (com a palavra-chave `with`)  
  - O m√©todo **`close()`** para fechar recursos manualmente.  

### Exemplo com Context Manager (melhor pr√°tica)
```python
with open("arquivo.txt", "w") as f:
    f.write("Exemplo")
# O arquivo √© fechado automaticamente ao sair do bloco 'with'
```

---

## üîπ Quando usar `__init__` e `__del__`?

- `__init__`: Sempre que precisar inicializar atributos ou configurar algo no momento em que o objeto √© criado.  
- `__del__`: Apenas quando realmente precisar liberar recursos de forma manual.  

---

## üîπ Exemplo pr√°tico completo

```python
class BancoDeDados:
    def __init__(self, conexao):
        print("üì° Conectando ao banco de dados...")
        self.conexao = conexao

    def executar_query(self, query):
        print(f"‚û°Ô∏è Executando query: {query}")

    def __del__(self):
        print("üîí Fechando conex√£o com o banco de dados.")

# Criando um objeto
bd = BancoDeDados("MySQL")
bd.executar_query("SELECT * FROM clientes")

# Quando o programa terminar, __del__ ser√° chamado automaticamente
```

**Sa√≠da esperada:**
```
üì° Conectando ao banco de dados...
‚û°Ô∏è Executando query: SELECT * FROM clientes
üîí Fechando conex√£o com o banco de dados.
```

---

## üìå Resumindo

- O `__init__` √© o **m√©todo construtor**, usado para inicializar um objeto.
- O `__del__` √© o **m√©todo destrutor**, usado para executar a√ß√µes finais quando o objeto √© removido da mem√≥ria.
- Evite depender do `__del__` para liberar recursos; prefira context managers (`with`) e m√©todos como `close()`.

---

‚úçÔ∏è Autor: **Andre Almeida**  
üìÅ **Local:** `/anotacoes/poo_metodos_construtores_destrutores.md`